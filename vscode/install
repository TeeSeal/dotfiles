if ! which code >/dev/null 2>&1; then
  echo "VSCode not found."
  exit 1
fi

VSCODE_USER="$HOME/Library/Application Support/Code/User"

ln -sf "$DOTFILES/vscode/settings.json" "$VSCODE_USER/settings.json"
ln -sf "$DOTFILES/vscode/keybindings.json" "$VSCODE_USER/keybindings.json"
ln -sf "$DOTFILES/vscode/snippets" "$VSCODE_USER/snippets"

echo "âœ…  linked config files"
echo "ðŸšš  installing extensions"

for ext in $(cat "$DOTFILES/vscode/extensions.txt"); do
  code --install-extension "$ext" || true
done
